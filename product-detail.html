<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Product Detail</title>
    <link rel="stylesheet" href="./css/styleassets.css">
</head>

<body>
    <!-- Side bar -->
    <div class="sidebar">

        <div class="logo">
            <img src="./icon/logo2uni.png" alt="Logo" class="logo-img">
        </div>

        <a href="home.html" class="menu-item">
            <img src="./icon/home.png" alt="Home" class="icon">
            <span>Trang chủ</span>
        </a>

        <a href="shop.html" class="menu-item">
            <img src="./icon/shop.png" alt="Shop" class="icon">
            <span>Cửa hàng</span>
        </a>

        <a href="profile.html" class="menu-item">
            <img src="./icon/user.png" alt="Profile" class="icon">
            <span>Hồ sơ</span>
        </a>

        <a href="#" class="menu-item">
            <img src="./icon/settings-sliders.png" alt="Settings" class="icon">
            <span>Cài đặt</span>
        </a>

        <a href="#" class="menu-item">
            <img src="./icon/exit.png" alt="Logout" class="icon">
            <span>Đăng xuất</span>
        </a>
    </div>
    <div> <!-- Header và nội dung chính ở đây -->
        <header class="main-header">
            <form class="search" action="#" method="get">
                <input type="text" name="query" placeholder="Search..." />
                <button type="submit" class="search-button">
                    <img src="./icon/search.png" class="icon" alt="Search" />
                </button>
            </form>

            <div class="actions">
                <a class="cart" href="cart.html">
                    <img src="./icon/shopping-cart.png" alt="Cart" class="icon" />
                    <span class="count">265</span>
                </a>

                <a href="#" class="notification" id="notificationBell">
                    <img src="./icon/bell.png" alt="Bell" class="icon" />
                </a>

                <a href="profile.html" class="user">
                    <img src="./img/avatar.png" alt="User" class="avatar"
                        onerror="this.onerror=null; this.src='./icon/user.png';" />
                </a>
            </div>

            <div class="notification-dropdown" id="notificationDropdown">
                <h4>Thông báo</h4>
                <ul>
                    <li>
                        <img src="./img/avatar1.png" alt="User" class="notify-avatar" />
                        <div class="notify-content">
                            <p><strong>Nguyễn Văn A</strong> đã bình luận vào bài viết của bạn.</p>
                            <span>2 phút trước</span>
                        </div>
                    </li>
                    <li>
                        <img src="./img/avatar2.png" alt="User" class="notify-avatar" />
                        <div class="notify-content">
                            <p><strong>Trần Thị B</strong> đã thích bài viết của bạn.</p>
                            <span>10 phút trước</span>
                        </div>
                    </li>
                    <li>
                        <img src="./img/avatar3.png" alt="User" class="notify-avatar" />
                        <div class="notify-content">
                            <p><strong>Ngô C</strong> đã chia sẻ bài viết của bạn.</p>
                            <span>1 giờ trước</span>
                        </div>
                    </li>
                    <li>
                        <img src="./img/avatar3.png" alt="User" class="notify-avatar" />
                        <div class="notify-content">
                            <p><strong>Ngô C</strong> đã chia sẻ bài viết của bạn.</p>
                            <span>1 giờ trước</span>
                        </div>
                    </li>
                    <li>
                        <img src="./img/avatar3.png" alt="User" class="notify-avatar" />
                        <div class="notify-content">
                            <p><strong>Ngô C</strong> đã chia sẻ bài viết của bạn.</p>
                            <span>1 giờ trước</span>
                        </div>
                    </li>
                    <li>
                        <img src="./img/avatar3.png" alt="User" class="notify-avatar" />
                        <div class="notify-content">
                            <p><strong>Ngô C</strong> đã chia sẻ bài viết của bạn.</p>
                            <span>1 giờ trước</span>
                        </div>
                    </li>
                    <li>
                        <img src="./img/avatar3.png" alt="User" class="notify-avatar" />
                        <div class="notify-content">
                            <p><strong>Ngô C</strong> đã chia sẻ bài viết của bạn.</p>
                            <span>1 giờ trước</span>
                        </div>
                    </li>
                    <li>
                        <img src="./img/avatar3.png" alt="User" class="notify-avatar" />
                        <div class="notify-content">
                            <p><strong>Ngô C</strong> đã chia sẻ bài viết của bạn.</p>
                            <span>1 giờ trước</span>
                        </div>
                    </li>
                    <li>
                        <img src="./img/avatar3.png" alt="User" class="notify-avatar" />
                        <div class="notify-content">
                            <p><strong>Ngô C</strong> đã chia sẻ bài viết của bạn.</p>
                            <span>1 giờ trước</span>
                        </div>
                    </li>
                    <li>
                        <img src="./img/avatar3.png" alt="User" class="notify-avatar" />
                        <div class="notify-content">
                            <p><strong>Ngô C</strong> đã chia sẻ bài viết của bạn.</p>
                            <span>1 giờ trước</span>
                        </div>
                    </li>
                    <li>
                        <img src="./img/avatar3.png" alt="User" class="notify-avatar" />
                        <div class="notify-content">
                            <p><strong>Ngô C</strong> đã chia sẻ bài viết của bạn.</p>
                            <span>1 giờ trước</span>
                        </div>
                    </li>
                    <li>
                        <img src="./img/avatar3.png" alt="User" class="notify-avatar" />
                        <div class="notify-content">
                            <p><strong>Ngô C</strong> đã chia sẻ bài viết của bạn.</p>
                            <span>1 giờ trước</span>
                        </div>
                    </li>
                    <li>
                        <img src="./img/avatar3.png" alt="User" class="notify-avatar" />
                        <div class="notify-content">
                            <p><strong>Ngô C</strong> đã chia sẻ bài viết của bạn.</p>
                            <span>1 giờ trước</span>
                        </div>
                    </li>
                    <li>
                        <img src="./img/avatar3.png" alt="User" class="notify-avatar" />
                        <div class="notify-content">
                            <p><strong>Ngô C</strong> đã chia sẻ bài viết của bạn.</p>
                            <span>1 giờ trước</span>
                        </div>
                    </li>
                    <li>
                        <img src="./img/avatar3.png" alt="User" class="notify-avatar" />
                        <div class="notify-content">
                            <p><strong>Ngô C</strong> đã chia sẻ bài viết của bạn.</p>
                            <span>1 giờ trước</span>
                        </div>
                    </li>
                    <li>
                        <img src="./img/avatar3.png" alt="User" class="notify-avatar" />
                        <div class="notify-content">
                            <p><strong>Ngô C</strong> đã chia sẻ bài viết của bạn.</p>
                            <span>1 giờ trước</span>
                        </div>
                    </li>
                    <li>
                        <img src="./img/avatar3.png" alt="User" class="notify-avatar" />
                        <div class="notify-content">
                            <p><strong>Ngô C</strong> đã chia sẻ bài viết của bạn.</p>
                            <span>1 giờ trước</span>
                        </div>
                    </li>
                    <li>
                        <img src="./img/avatar3.png" alt="User" class="notify-avatar" />
                        <div class="notify-content">
                            <p><strong>Ngô C</strong> đã chia sẻ bài viết của bạn.</p>
                            <span>1 giờ trước</span>
                        </div>
                    </li>
                </ul>
            </div>
            <script>
                document.addEventListener('DOMContentLoaded', function () {
                    const bell = document.getElementById('notificationBell');
                    const dropdown = document.getElementById('notificationDropdown');

                    bell.addEventListener('click', function (e) {
                        e.preventDefault();
                        dropdown.style.display = dropdown.style.display === 'block' ? 'none' : 'block';
                    });

                    document.addEventListener('click', function (e) {
                        if (!bell.contains(e.target) && !dropdown.contains(e.target)) {
                            dropdown.style.display = 'none';
                        }
                    });
                });
            </script>
        </header>

        <div class="main-content"> <!-- Nội dung chính -->
            <div class="detail-container">
                <div class="detail-top">
                    <div class="detail-image">
                        <img src="./image/products/folklore.png" alt="Album folklore - Taylor Swift" />
                    </div>
                    <div class="detail-info">
                        <div class="detail-name">Album folklore - Taylor Swift</div>
                        <div class="detail-price">250.000 đ</div>

                        <!-- Phần chọn loại hàng -->
                        <div class="detail-variants">
                            <div class="variant-option">
                                <h4>Phiên bản:</h4>
                                <div class="variant-buttons">
                                    <button type="button" class="variant-btn active" data-variant="standard">Tiêu
                                        chuẩn</button>
                                    <button type="button" class="variant-btn" data-variant="deluxe">Deluxe
                                        Edition</button>
                                    <button type="button" class="variant-btn" data-variant="vinyl">Bản Vinyl</button>
                                </div>
                            </div>
                        </div>

                        <form class="detail-actions-form" method="post" action="ProductDetailServlet">
                            <!-- Ẩn productId và các thông tin variant để gửi về server -->
                            <input type="hidden" name="productId" value="123">
                            <input type="hidden" name="variant" id="selectedVariant" value="standard">
                            <input type="hidden" name="condition" id="selectedCondition" value="new">
                            <input type="hidden" name="selectedGifts" id="selectedGifts" value="">

                            <div class="detail-quantity-control">
                                <button type="button" class="btn-decrease" onclick="changeQuantity(-1)">−</button>
                                <input type="number" name="quantity" id="quantity" value="1" min="1" readonly>
                                <button type="button" class="btn-increase" onclick="changeQuantity(1)">+</button>
                            </div>

                            <div class="detail-buttons">
                                <button type="submit" name="action" value="addToCart" class="detail-btn-cart">🛒 Thêm
                                    vào giỏ</button>
                                <button type="submit" name="action" value="buyNow" class="detail-btn-buy">Mua
                                    ngay</button>
                            </div>
                        </form>
                    </div>
                </div>


                <div class="detail-seller-box">
                    <img src="./icon/man.png" alt="avatar" class="detail-seller-avatar" />

                    <div class="detail-seller-info">
                        <strong>Username</strong><br>
                        1 Sản phẩm · 3 Sản phẩm đã bán
                    </div>
                    <div class="detail-seller-actions">
                        <button>Chat</button>
                        <button>Hồ sơ</button>
                    </div>
                </div>

                <div class="detail-box">
                    <h3>Chi tiết sản phẩm</h3>
                    <ul>
                        <li>Màu sắc: Trắng / Đen / Xám / Be / Hồng / Xanh Navy</li>
                        <li>Size: S / M / L / XL</li>
                        <li>Kiểu dáng: Oversized</li>
                    </ul>
                </div>

                <div class="detail-box">
                    <h3>Mô tả sản phẩm</h3>
                    <ul>
                        <li>Hạn chế phơi trực tiếp dưới ánh nắng mặt trời, nên phơi nơi thoáng mát.</li>
                        <li>Không dùng chất tẩy mạnh để giặt, tránh ảnh hưởng chất lượng sản phẩm.</li>
                        <li>100% giống mô tả, ảnh chụp thật của shop.</li>
                    </ul>
                </div>

                <div class="detail-box">
                    <h3>Đánh giá</h3>

                    <!-- Danh sách đánh giá -->
                    <div class="review-list">
                        <!-- Đánh giá 1 -->
                        <div class="review-item">
                            <div class="review-header">
                                <span class="reviewer-name">Nguyễn Văn A</span>
                                <span class="review-stars">★★★★★</span>
                            </div>
                            <div class="review-content">
                                <p>Sản phẩm chất lượng tốt, đóng gói cẩn thận, giao hàng nhanh. Rất hài lòng!</p>
                            </div>
                        </div>

                        <!-- Đánh giá 2 -->
                        <div class="review-item">
                            <div class="review-header">
                                <span class="reviewer-name">Trần Thị B</span>
                                <span class="review-stars">★★★★☆</span>
                            </div>
                            <div class="review-content">
                                <p>Album đẹp nhưng hơi trầy xước nhẹ ở góc. Nội dung hay.</p>
                            </div>
                        </div>

                        <!-- Đánh giá 3 -->
                        <div class="review-item">
                            <div class="review-header">
                                <span class="reviewer-name">Lê Văn C</span>
                                <span class="review-stars">★★★☆☆</span>
                            </div>
                            <div class="review-content">
                                <p>Sản phẩm tạm được, giá hơi cao so với chất lượng.</p>
                            </div>
                        </div>

                        <!-- Đánh giá 4 -->
                        <div class="review-item">
                            <div class="review-header">
                                <span class="reviewer-name">Phạm Thị D</span>
                                <span class="review-stars">★★★★★</span>
                            </div>
                            <div class="review-content">
                                <p>Tuyệt vời! Đúng như mô tả, sẽ ủng hộ shop dài dài.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Nút hỗ trợ chat -->
        <div class="chat-button" onclick="openChatBox()">
            <img src="./icon/envelope.png" alt="Chat hỗ trợ" class="chat-icon">
            <span>Chat</span>
        </div>

        <!-- Hộp chat popup -->
        <div class="chat-popup">
            <div class="chat-header">
                <button class="toggle-collapse" onclick="toggleChat()">❯</button>
                <div class="chat-title">Chat</div>
                <button class="close-chat" onclick="closeChatBox()">✖</button>
            </div>
            <div class="chat-container">
                <div class="contact-list">
                    <div class="contact active">
                        <img src="images/support-avatar.png" alt="Hỗ trợ" class="contact-avatar">
                        <div class="contact-info">
                            <div class="contact-name">Bộ phận hỗ trợ</div>
                            <div class="last-message">Chúng tôi có thể giúp gì cho bạn?</div>
                        </div>
                    </div>
                    <!-- Thêm các contact khác nếu cần -->
                </div>
                <div class="chat-area">
                    <div class="messages">
                        <div class="message received">
                            <img src="images/support-avatar.png" alt="Hỗ trợ" class="message-avatar">
                            <div class="message-content">Xin chào! Chúng tôi có thể giúp gì cho bạn?</div>
                        </div>
                        <!-- Các tin nhắn sẽ được thêm vào đây -->
                    </div>
                    <div class="message-input">
                        <input type="text" placeholder="Nhập tin nhắn..." class="chat-input">
                        <button class="send-button" onclick="sendMessage()">
                            <img src="./icon/paper-plane.png" alt="Gửi">
                        </button>
                    </div>
                </div>
            </div>
        </div>
        <script src="./js/script.js"></script>
</body>

</html>